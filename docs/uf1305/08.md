---
title: Tipos de scripts e a s煤a execuci贸n
description: Scripts inmediatos, diferidos e h铆bridos
lastUpdated: true
---

# {{ $frontmatter.title }}

## **1. Tipos de scripts**

### **1.1. Scripts inmediatos**
Exec煤tanse automaticamente ao cargar a p谩xina, na orde en que aparecen.

**Exemplo no corpo:**
```html
<body>
    <p>Texto previo</p>
    
    <script>
        alert("Script inmediato executado!");
        document.write("<p>Engadido durante a carga</p>");
    </script>
    
    <p>Texto posterior</p>
</body>
```

**Caracter铆sticas:**
- Bloquean a renderizaci贸n ata completarse
- Acceden ao DOM s贸 dos elementos cargados previamente

### **1.2. Scripts diferidos**
Usan o atributo `defer` para executarse despois de parsear o HTML.

**Exemplo no encabezado:**
```html
<head>
    <script src="script.js" defer></script>
</head>
```

**Diagrama de carga (Mermaid):**
```mermaid
sequenceDiagram
    Navegador->>HTML: Analiza documento
    HTML->>Script: Descarga (en paralelo)
    HTML->>Script: Executa (despois de parsear)
```

### **1.3. Scripts h铆bridos**
Combinan carga inmediata e execuci贸n por eventos.

**Exemplo:**
```html
<script>
    function iniciar() {
        console.log("Executado despois da carga");
    }
    window.addEventListener('load', iniciar);
</script>
```

## **2. Localizaci贸n de scripts**

### **2.1. No corpo do documento**
**Executables ao abrir a p谩xina:**
```html
<body>
    <script>
        const data = new Date();
        console.log("Data actual: " + data);
    </script>
</body>
```

**Executables por evento:**
```html
<button onclick="alert('Clic recibido!')">P煤lsame</button>
```

### **2.2. No encabezado**
```html
<head>
    <script>
        function validarForm() {
            // L贸xica de validaci贸n
        }
    </script>
</head>
<body>
    <form onsubmit="return validarForm()">
        <!-- Campos do formulario -->
    </form>
</body>
```

## **3. Execuci贸n de scripts**

### **3.1. Execuci贸n ao cargar a p谩xina**
```html
<script>
    // Exec煤tase inmediatamente
    document.addEventListener('DOMContentLoaded', function() {
        console.log("DOM completamente cargado");
    });
</script>
```

### **3.2. Execuci贸n por eventos**
```javascript
document.getElementById('boton').addEventListener('click', function() {
    console.log("Evento click disparado");
});
```

**Tipos de eventos com煤ns:**
- `click`, `dblclick`
- `mouseenter`, `mouseleave`
- `keydown`, `keyup`
- `submit`, `change`

### **3.3. Execuci贸n de procedementos**
```javascript
function calcularIVA(prezo) {
    return prezo * 0.21;
}

// Chamada expl铆cita necesaria
const total = calcularIVA(100);
```

### **3.4. Tempos de execuci贸n**
```mermaid
gantt
    title Tempos de execuci贸n
    dateFormat  HH:mm:ss
    section Carga
    Parseo HTML      :a1, 00:00:00, 00:00:02
    Descarga scripts :a2, after a1, 00:00:01
    section Execuci贸n
    Scripts inmediatos :a3, after a1, 00:00:01
    DOMContentLoaded :a4, after a1, 00:00:00
    Window Load :a5, after a2, 00:00:00
```

### **3.5. Erros de execuci贸n**
**Manexo b谩sico:**
```javascript
try {
    // C贸digo que pode fallar
    const resultado = operacionRiesgo();
} catch (error) {
    console.error("Produciuse un erro:", error.message);
} finally {
    console.log("Execuci贸n finalizada");
}
```

**Erros com煤ns:**
1. **ReferenceError**: Variable non definida
2. **TypeError**: Operaci贸n inv谩lida sobre tipo
3. **SyntaxError**: Erro na sintaxe
4. **NetworkError**: Fallo en carga de recurso

## **4. Boas pr谩cticas**

### **Recomendaci贸ns de colocaci贸n**
```html
<!DOCTYPE html>
<html>
<head>
    <!-- Scripts de configuraci贸n/inicializaci贸n -->
    <script src="config.js" defer></script>
</head>
<body>
    <!-- Contido principal -->
    
    <!-- Scripts de execuci贸n -->
    <script src="app.js"></script>
</body>
</html>
```

### **Patr贸n de execuci贸n recomendado**
```javascript
document.addEventListener('DOMContentLoaded', function() {
    // Todo o c贸digo que interact煤a co DOM
    iniciarAplicacion();
});

function iniciarAplicacion() {
    // Inicializaci贸n de compo帽entes
    const boton = document.getElementById('accion');
    boton.addEventListener('click', manexadorClick);
}

function manexadorClick() {
    // L贸xica do evento
}
```

## **Exercicio pr谩ctico**

**Implementar un sistema de comentarios con:**
1. Carga inicial de comentarios existentes (simulado)
2. Formulario para engadir novos comentarios
3. Validaci贸n do input
4. Actualizaci贸n din谩mica da lista

**Soluci贸n:**
```html
<div id="comentarios">
    <h2>Comentarios</h2>
    <ul id="lista-comentarios"></ul>
    <form id="form-comentario">
        <textarea id="texto-comentario" required></textarea>
        <button type="submit">Publicar</button>
    </form>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // Carga inicial (simulada)
    const comentarios = ["Primeiro comentario", "Outro comentario"];
    actualizarLista(comentarios);
    
    // Xesti贸n do formulario
    document.getElementById('form-comentario').addEventListener('submit', function(e) {
        e.preventDefault();
        const texto = document.getElementById('texto-comentario').value.trim();
        
        if(texto) {
            comentarios.push(texto);
            actualizarLista(comentarios);
            this.reset();
        } else {
            alert("O comentario non pode estar baleiro");
        }
    });
});

function actualizarLista(comentarios) {
    const lista = document.getElementById('lista-comentarios');
    lista.innerHTML = '';
    
    comentarios.forEach(comentario => {
        const li = document.createElement('li');
        li.textContent = comentario;
        lista.appendChild(li);
    });
}
</script>
```

**Pseudoc贸digo:**
```
CANDO se cargue o DOM:
    INICIALIZAR lista de comentarios
    MOSTRAR comentarios existentes
    
    CANDO se env铆e o formulario:
        OBTENER texto do comentario
        SE texto 茅 v谩lido ENTN
            ENGADIR 谩 lista
            ACTUALIZAR visualizaci贸n
            LIMPAR formulario
        SENN
            MOSTRAR erro
        FIN SE
FIN
```



---

DAW2026