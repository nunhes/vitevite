---
title: Caracter√≠sticas de seguridade na publicaci√≥n de p√°xinas web ii
description: A seguridade web √© fundamental para protexer tanto os datos dos usuarios como a infraestrutura do servidor. 
lastUpdated: true
---

# {{ $frontmatter.title }}

## Seguridade na publicaci√≥n de p√°xinas web

A seguridade web √© crucial para protexer tanto os teus datos como os dos teus usuarios:

### 1. **Protecci√≥n b√°sica do servidor**
- **HTTPS obrigatorio**: Usa certificados SSL/TLS (gratuitos con Let's Encrypt)
- **Actualizaci√≥ns constantes**: Mant√©n actualizado o servidor web (Apache/Nginx), PHP e todos os paquetes
- **Configuraci√≥n segura**: Desactiva versi√≥ns antigas de TLS, deshabilita informaci√≥n do servidor

### 2. **Protecci√≥n contra ataques com√∫ns**
- **SQL Injection**:
  ```php
  // MAL
  $query = "SELECT * FROM usuarios WHERE id = $_GET[id]";
  
  // BEN (con PDO)
  $stmt = $pdo->prepare("SELECT * FROM usuarios WHERE id = ?");
  $stmt->execute([$_GET['id']]);
  ```

- **XSS (Cross-Site Scripting)**:
  ```php
  // Sanitizar sa√≠das
  echo htmlspecialchars($user_input, ENT_QUOTES, 'UTF-8');
  ```

- **CSRF (Cross-Site Request Forgery)**:
  ```php
  // Xenerar token
  $_SESSION['token'] = bin2hex(random_bytes(32));
  
  // Verificar en formularios
  if (!hash_equals($_SESSION['token'], $_POST['token'])) {
      die('Token CSRF inv√°lido');
  }
  ```

### 3. **Xesti√≥n segura de arquivos**
- **Subida de arquivos**:
  ```php
  $allowed = ['jpg','png'];
  $ext = pathinfo($_FILES['arquivo']['name'], PATHINFO_EXTENSION);
  
  if (!in_array($ext, $allowed)) {
      die('Tipo de arquivo non permitido');
  }
  
  // Mover a un directorio non accesible directamente
  move_uploaded_file($_FILES['arquivo']['tmp_name'], '/var/privado/'.uniqid().'.'.$ext);
  ```

### 4. **Autenticaci√≥n segura**
- **Almacenamento de contrasinais**:
  ```php
  // Nunca facer isto:
  // $db->query("INSERT INTO usuarios (password) VALUES ('".md5($password)."')");
  
  // Correcto:
  $hash = password_hash($password, PASSWORD_BCRYPT);
  ```

- **Protecci√≥n contra forza bruta**:
  ```php
  if ($login_attempts > 3) {
      sleep(pow(2, $login_attempts)); // Backoff exponencial
  }
  ```

### 5. **Configuraci√≥n PHP segura**
No teu `php.ini`:
```
disable_functions = exec,passthru,shell_exec,system
expose_php = Off
session.cookie_httponly = 1
session.cookie_secure = 1
allow_url_include = Off
```

### 6. **Protecci√≥n avanzada**
- **CSP (Content Security Policy)**:
  ```html
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' https://apis.google.com">
  ```
  
- **HSTS (HTTP Strict Transport Security)**:
  ```apache
  Header always set Strict-Transport-Security "max-age=63072000; includeSubDomains; preload"
  ```

### 7. **Monitorizaci√≥n e rexistro**
- **Rexistrar intentos de acceso**:
  ```php
  $log = date('Y-m-d H:i:s')." - Intento de acceso fallido para ".$_SERVER['REMOTE_ADDR'];
  file_put_contents('/var/log/seguridade.log', $log.PHP_EOL, FILE_APPEND);
  ```

### 8. **Backups seguros**
- **Estratexia 3-2-1**:
  - 3 copias dos teus datos
  - 2 medios diferentes (ex: disco + nube)
  - 1 copia f√≥ra do sitio

### Ferramentas recomendadas:
1. **OWASP ZAP** - Scanner de vulnerabilidades
2. **Let's Encrypt** - Certificados SSL gratu√≠tos
3. **Fail2Ban** - Protecci√≥n contra ataques de forza bruta
4. **ModSecurity** - Firewall para aplicaci√≥ns web

### Boas pr√°cticas adicionais:
- Principio do m√≠nimo privilexio (usuarios e permisos)
- Validaci√≥n de entrada: "Desconf√≠a sempre dos datos do usuario"
- Sanitizaci√≥n de sa√≠da
- Separaci√≥n entre c√≥digo e datos
- Non amosar erros detallados en producci√≥n

Implementando estas medidas reducir√°s drasticamente os riscos de seguridade na t√∫a p√°xina web. A seguridade √© un proceso continuo, non unha configuraci√≥n √∫nica.

---

Vexamos dun modo algo m√°is detallado os **sistemas de arquivos, permisos e ordes de operaci√≥ns** en distintos entornos, para garantir unha publicaci√≥n web segura.

## **1. Seguridade en distintos sistemas de arquivos**  

### **üêß 1.1. Sistema operativo Linux**  
- **Sistemas de arquivos com√∫ns**: Ext4, XFS, BtrFS.  
- **Boas pr√°cticas**:  
  - **Partici√≥n `/tmp` con `noexec`**: Evita a execuci√≥n de scripts maliciosos.  
    ```bash
    mount -o remount,noexec /tmp
    ```
  - **Cifrado de discos** (LUKS): Para datos sensibles.  
  - **SELinux/AppArmor**: Restrinxe permisos a procesos e usuarios.  

### **ü™ü 1.2. Sistema operativo Windows**  
- **Sistemas de arquivos**: NTFS (recomendado), exFAT (para dispositivos externos).  
- **Boas pr√°cticas**:  
  - **Configurar ACLs (Listas de Control de Acceso)** para restrinxir usuarios.  
  - **BitLocker**: Cifrado de volumes.  
  - **Desactivar compartici√≥ns p√∫blicas** (`net share` para ver/eliminar compartici√≥ns).  

### **üñ•Ô∏è 1.3. Outros sistemas operativos**  
- **macOS (APFS/HFS+)**:
  - **Gatekeeper**: Restrinxe execuci√≥n de apps non firmadas.  
  - **Time Machine**: Backups cifrados.  
- **FreeBSD/OpenBSD**:  
  - **ZFS**: Snapshots para recuperaci√≥n ante ataques ransomware.  

---

## **2. Permisos de acceso**  

### **üîë 2.1. Tipos de accesos**  
- **Lectura (`r`)** ‚Üí Permite ver o contido do arquivo.  
- **Escritura (`w`)** ‚Üí Permite modificar o arquivo.  
- **Execuci√≥n (`x`)** ‚Üí Permite executar o arquivo (crucial para scripts).  

#### **Representaci√≥n num√©rica (exemplo en Linux)**:  
- `755` ‚Üí Propietario: `rwx`, Grupo: `r-x`, Outros: `r-x`.  
- `640` ‚Üí Propietario: `rw-`, Grupo: `r--`, Outros: `---`.  

### **‚öñÔ∏è 2.2. Elecci√≥n do tipo de acceso**  
- **Arquivos de configuraci√≥n** (ex.: `.htaccess`, `wp-config.php`): `600` (s√≥ o propietario pode ler/escribir).  
- **Arquivos p√∫blicos** (ex.: CSS, JS): `644`.  
- **Scripts CGI/PHP**: `750` (execuci√≥n s√≥ para propietario e grupo).  

### **üõ†Ô∏è 2.3. Implementaci√≥n de accesos**  
#### **En Linux/Unix**:  
```bash
chmod 750 /var/www/html/script.sh  # Asigna permisos
chown www-data:www-data /var/www/  # Cambia propietario/grupo
```
#### **En Windows**:  
```powershell
icacls "C:\inetpub\wwwroot" /grant "IIS_IUSRS:(RX)"  # Concede lectura/execuci√≥n
```

---

## **3. Ordes de creaci√≥n, modificaci√≥n e borrado**  

### **üìù 3.1. Descrici√≥n de ordes en distintos sistemas**  
#### **Linux**:  
- **Creaci√≥n**: `touch arquivo.txt` ou `mkdir directorio`.  
- **Modificaci√≥n**: `chmod`, `chown`, `nano arquivo.txt`.  
- **Borrado**: `rm arquivo.txt` (usar `-i` para confirmaci√≥n interactiva).  

#### **Windows**:  
- **Creaci√≥n**: `New-Item -ItemType File -Name "arquivo.txt"` (PowerShell).  
- **Modificaci√≥n**: `attrib +R arquivo.txt` (para s√≥ lectura).  
- **Borrado**: `del arquivo.txt` ou `Remove-Item`.  

### **üîß 3.2. Implementaci√≥n e comprobaci√≥n**  
#### **Exemplo pr√°ctico (Linux)**:  
1. **Crear un arquivo seguro para web**:  
   ```bash
   touch /var/www/html/index.html
   chmod 644 /var/www/html/index.html
   chown www-data:www-data /var/www/html/index.html
   ```
2. **Verificar permisos**:  
   ```bash
   ls -l /var/www/html/index.html  # Deber√≠a mostrar "-rw-r--r--"
   ```

#### **Comprobaci√≥n de integridade**:  
- **Linux**: `auditd` para rexistrar cambios en arquivos cr√≠ticos.  
- **Windows**: `Get-Acl` (PowerShell) para ver permisos.  

---

## **4. Resumo de medidas clave**  
| **Aspecto**             | **Linux**                             | **Windows**               |
| ----------------------- | ------------------------------------- | ------------------------- |
| **Sistema de arquivos** | Ext4 con `noexec` en `/tmp`           | NTFS con ACLs             |
| **Permisos t√≠picos**    | `755` (directorios), `644` (arquivos) | `RX` para usuarios de IIS |
| **Ferramentas**         | `chmod`, `chown`, `auditd`            | `icacls`, `BitLocker`     |

---

## **5. Conclusi√≥n**  
A seguridade na publicaci√≥n web depende dunha **configuraci√≥n adecuada de permisos**, un **sistema de arquivos ben estruturado** e un **manexo seguro das operaci√≥ns b√°sicas** (creaci√≥n/modificaci√≥n/borrado). Recom√©ndase:  
- **En Linux**: Usar SELinux/AppArmor e `chmod` restrictivo.  
- **En Windows**: Aproveitar as ACLs e BitLocker.  
- **En calquera sistema**: Monitorizar cambios con ferramentas como `auditd` ou PowerShell.  

üíªüîê


---

DAWüßä2025