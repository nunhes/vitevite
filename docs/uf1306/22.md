---
title: Programaci√≥n orientada a obxectos (POO) en JavaScript ii
description: A programaci√≥n orientada a obxectos √© un estilo de programaci√≥n baseado en clases e obxectos. 
lastUpdated: true
---

# {{ $frontmatter.title }}

## Introduci√≥n

A **Programaci√≥n Orientada a Obxectos (POO)** √© un paradigma de programaci√≥n baseado en **obxectos** que combinan **datos** (propiedades) e **comportamento** (m√©todos). En JavaScript, a POO m√≥strase √∫nica debido √° s√∫a natureza baseada en **prototipos**, a diferenza de linguaxes como Java ou C# que usan clases tradicionais.

### Caracter√≠sticas clave:
- **Reutilizaci√≥n de c√≥digo**: Mediante herdanza e composici√≥n.
- **Estrutura modular**: Organizaci√≥n clara en entidades autocontidas.
- **Encapsulaci√≥n**: Protecci√≥n de datos internos.
- **Flexibilidade**: Polimorfismo e abstracci√≥n.

---

## üì¶ Clases e Obxectos en JavaScript

### üî∑ **Que √© unha clase?**
Unha clase √© un **modelo** ou **plano** para crear obxectos. Define:
- **Propiedades** (datos)
- **M√©todos** (acci√≥ns)

```javascript
class Casa {
  constructor(cor, quartos) {
    this.cor = cor;       // Propiedade
    this.quartos = quartos;
  }

  describir() {           // M√©todo
    return `Unha casa ${this.cor} con ${this.quartos} quartos`;
  }
}
```

### üî∑ **Que √© un obxecto?**
√â unha **instancia** dunha clase (unha "casa real" baseada no plano).

```javascript
const miCasa = new Casa('branca', 3);
console.log(miCasa.describir()); 
// Sa√≠da: "Unha casa branca con 3 quartos"
```

---

## üèóÔ∏è **4 Pilares da POO en JavaScript**

### 1Ô∏è‚É£ **Abstracci√≥n**
Ocultar detalles complexos e mostrar s√≥ o esencial.  
*Exemplo*: Unha clase `Telefono` exp√≥n `facerChamada()` pero oculta `xestionarSinal()`.

### 2Ô∏è‚É£ **Encapsulaci√≥n**
Protexer datos internos usando:
- **Propiedades privadas** (`#`): S√≥ accesibles dentro da clase.
- **Getters/Setters**: Controlar acceso.

```javascript
class ContaBancaria {
  #saldo = 0;  // Propiedade privada

  get saldo() { return this.#saldo; }

  depositar(cantidade) {
    if (cantidade > 0) this.#saldo += cantidade;
  }
}
```

### 3Ô∏è‚É£ **Herdanza**
Unha clase filla herda caracter√≠sticas dunha nai.

#### ‚öôÔ∏è **Con clases ES6**:
```javascript
class Animal {
  mover() { console.log("Mov√©ndose"); }
}

class Can extends Animal {
  ladrar() { console.log("Guau!"); }
}

const meuCan = new Can();
meuCan.mover();  // Herdado de Animal
```

#### üîÑ **Herdanza protot√≠pica** (JavaScript puro):
```javascript
function Animal() {}
Animal.prototype.mover = function() { console.log("Mov√©ndose"); };

function Can() {}
Can.prototype = Object.create(Animal.prototype);
Can.prototype.ladrar = function() { console.log("Guau!"); };
```

### 4Ô∏è‚É£ **Polimorfismo**
M√©todos con **mesmo nome** pero comportamento diferente.

```javascript
class Forma {
  area() { return 0; }
}

class Circulo extends Forma {
  area() { return Math.PI * this.radio ** 2; }  // Sobrescribe area()
}
```

---

## üõ†Ô∏è **3 formas de traballar con POO en JavaScript**

### 1Ô∏è‚É£ **Funci√≥ns construtoras** (JavaScript cl√°sico)

```javascript
function Persoa(nome) {
  this.nome = nome;
}
Persoa.prototype.saudar = function() { console.log(`Ola, son ${this.nome}`); };

const ana = new Persoa('Ana');
ana.saudar();
```

### 2Ô∏è‚É£ **Clases ES6** (Azucre sint√°ctico sobre prototipos)
```javascript
class Persoa {
  constructor(nome) { this.nome = nome; }
  saudar() { console.log(`Ola, son ${this.nome}`); }
}
```

### 3Ô∏è‚É£ **Object.create()** (Herdanza directa de prototipos)
```javascript
const persoaPrototipo = {
  saudar() { console.log(`Ola, son ${this.nome}`); }
};

const carlos = Object.create(persoaPrototipo);
carlos.nome = 'Carlos';
carlos.saudar();
```

---

## üí° **Boas pr√°cticas**

- **Usa `class`** para c√≥digo m√°is lexible (a non ser que necesites prototipos directamente).
- **Mant√©n privadas** as propiedades internas con `#`.
- **Evita herdar demasiado** (prefire composici√≥n sobre herdanza).
- **Documenta** as t√∫as clases con JSDoc.

---

## üåü **Conclusi√≥n**
JavaScript ofrece unha POO flexible grazas aos seus **prototipos**, permitindo tanto o estilo cl√°sico como moderno. Dominar estes conceptos √© clave para escribir c√≥digo **mantible**, **reutilizable** e **eficiente**.

> **Nota**: Esta gu√≠a cobre ES6+. Para detalles avanzados (mixins, factories), consulta a [documentaci√≥n MDN](https://developer.mozilla.org/es/docs/Web/JavaScript).

---

## üöÄ **Xogo de Naves Espaciais con POO**

### üìÅ Estrutura do proxecto

```
/
‚îú‚îÄ‚îÄ index.html
‚îú‚îÄ‚îÄ style.css
‚îî‚îÄ‚îÄ script.js
```

---

### 1Ô∏è‚É£ **HTML (`index.html`)**
```html
<!DOCTYPE html>
<html lang="gl">
<head>
    <meta charset="UTF-8">
    <title>Xogo Naves POO</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="game-container">
        <h1>Batalla Espacial POO</h1>
        <div id="game-board"></div>
        <button id="start-btn">Comezar Xogo</button>
        <div id="score">Puntos: <span>0</span></div>
    </div>
    <script src="script.js"></script>
</body>
</html>
```

---

### 2Ô∏è‚É£ **CSS (`style.css`)**
```css
body {
    font-family: Arial, sans-serif;
    background-color: #121212;
    color: white;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    margin: 0;
}

#game-container {
    text-align: center;
}

#game-board {
    width: 400px;
    height: 500px;
    background-color: #000;
    position: relative;
    overflow: hidden;
    margin: 20px auto;
    border: 2px solid #4CAF50;
}

#player {
    position: absolute;
    width: 50px;
    height: 50px;
    background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50"><polygon points="25,0 0,50 50,50" fill="%234CAF50"/></svg>');
    background-size: contain;
    bottom: 10px;
    left: 175px;
}

.enemy {
    position: absolute;
    width: 50px;
    height: 50px;
    background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50"><circle cx="25" cy="25" r="20" fill="%23F44336"/></svg>');
    background-size: contain;
}

.bullet {
    position: absolute;
    width: 5px;
    height: 15px;
    background-color: yellow;
    border-radius: 2px;
}

#start-btn {
    padding: 10px 20px;
    background-color: #4CAF50;
    border: none;
    color: white;
    cursor: pointer;
    font-size: 16px;
}

#score {
    font-size: 1.5em;
    margin-top: 10px;
}
```

---

### 3Ô∏è‚É£ **JavaScript POO (`script.js`)**
```javascript
// üéÆ Clase Principal: Nave Espacial
class SpaceShip {
    constructor(x, y, elementId, board) {
        this.x = x;
        this.y = y;
        this.speed = 5;
        this.board = board;
        this.element = document.createElement('div');
        this.element.id = elementId;
        this.board.appendChild(this.element);
        this.updatePosition();
    }

    updatePosition() {
        this.element.style.left = `${this.x}px`;
        this.element.style.top = `${this.y}px`;
    }

    move(direction) {
        if (direction === 'left' && this.x > 0) {
            this.x -= this.speed;
        } else if (direction === 'right' && this.x < this.board.clientWidth - 50) {
            this.x += this.speed;
        }
        this.updatePosition();
    }
}

class Bullet {
    constructor(x, y, board) {
        this.x = x + 20;
        this.y = y;
        this.speed = 10;
        this.board = board;
        this.element = document.createElement('div');
        this.element.className = 'bullet';
        this.board.appendChild(this.element);
        this.updatePosition();
    }

    updatePosition() {
        this.element.style.left = `${this.x}px`;
        this.element.style.top = `${this.y}px`;
    }

    move() {
        this.y -= this.speed;
        this.updatePosition();
        return this.y < 0;
    }

    destroy() {
        this.board.removeChild(this.element);
    }
}

// üëæ Clase Filla: Enemigo (Herdanza)
class Enemy extends SpaceShip {
    constructor(x, y, board, game) {
        super(x, y, '', board);
        this.game = game;
        this.element.classList.add('enemy');
        this.speed = 2;
        this.moveDownInterval = setInterval(() => this.moveDown(), 1000);
    }

    moveDown() {
        this.y += 30;
        this.updatePosition();
        
        if (this.y > this.board.clientHeight - 50) {
            this.game.gameOver();
        }
    }

    checkCollision(bullets) {
        bullets.forEach((bullet, index) => {
            if (
                bullet.x < this.x + 50 &&
                bullet.x + 5 > this.x &&
                bullet.y < this.y + 50 &&
                bullet.y + 15 > this.y
            ) {
                this.destroy();
                bullet.destroy();
                bullets.splice(index, 1);
                this.game.updateScore(10);
            }
        });
    }

    destroy() {
        clearInterval(this.moveDownInterval);
        this.board.removeChild(this.element);
        const index = this.game.enemies.indexOf(this);
        if (index !== -1) this.game.enemies.splice(index, 1);
    }
}

// üïπÔ∏è Xogo (Encapsulaci√≥n)
class Game {
    constructor() {
        this.board = document.getElementById('game-board');
        this.player = new SpaceShip(175, 440, 'player', this.board);
        this.bullets = [];
        this.enemies = [];
        this.score = 0;
        this.isRunning = false;
        this.setupControls();
        
        document.getElementById('start-btn').addEventListener('click', () => this.start());
    }

    setupControls() {
        document.addEventListener('keydown', (e) => {
            if (!this.isRunning) return;
            if (e.key === 'ArrowLeft') this.player.move('left');
            if (e.key === 'ArrowRight') this.player.move('right');
            if (e.key === ' ') {
                this.bullets.push(new Bullet(this.player.x, this.player.y, this.board));
            }
        });
    }

    start() {
        if (this.isRunning) return;
        this.reset();
        this.isRunning = true;
        this.spawnEnemies();
        this.gameLoop();
    }

    reset() {
        this.score = 0;
        document.querySelector('#score span').textContent = this.score;
        this.enemies.forEach(enemy => enemy.destroy());
        this.bullets.forEach(bullet => bullet.destroy());
        this.enemies = [];
        this.bullets = [];
    }

    spawnEnemies() {
        this.spawnInterval = setInterval(() => {
            const x = Math.random() * (this.board.clientWidth - 50);
            this.enemies.push(new Enemy(x, 0, this.board, this));
        }, 1500);
    }

    gameLoop() {
        this.loopId = setInterval(() => {
            this.bullets.forEach((bullet, index) => {
                if (bullet.move()) {
                    bullet.destroy();
                    this.bullets.splice(index, 1);
                }
            });
            this.enemies.forEach(enemy => enemy.checkCollision(this.bullets));
        }, 50);
    }

    updateScore(points) {
        this.score += points;
        document.querySelector('#score span').textContent = this.score;
    }

    gameOver() {
        clearInterval(this.spawnInterval);
        clearInterval(this.loopId);
        this.isRunning = false;
        alert(`Game Over! Puntuaci√≥n: ${this.score}`);
    }
}

// Inicializa o xogo ao cargar a p√°xina
new Game();
```

---

## üìö **Explicaci√≥n Did√°ctica**

### 1. **Clase `SpaceShip` (Abstracci√≥n)**
- **Propiedades**: Coordenadas (`x`, `y`), velocidade, elemento DOM.
- **M√©todos**: `move()` e `updatePosition()`.
- **Representa** tanto √° nave do xogador como aos enemigos.

### 2. **Clase `Enemy` (Herdanza)**

- **Extende** `SpaceShip` e engade:
  - Movemento autom√°tico cara abaixo.
  - M√©todo `destroy()` para eliminar enemigos.

### 3. **Clase `Bullet`**

- Clase para xestionar os disparos.
- M√≥vese verticalmente cara arriba.

### 4. **Clase `Game` (Encapsulaci√≥n)**

- A clase `Game` xestiona todo o estado do xogo (puntuaci√≥n, balas, enemigos).

- **Xestiona** a l√≥xica do xogo:
  - Crea instancias de `SpaceShip`, `Enemy` e `Bullet`.
  - Controla a puntuaci√≥n e eventos.
- **Game Loop**:
  - Funci√≥n que se executa cada 50ms para actualizar balas e verificar colisi√≥ns.

### 5. **Interacci√≥n**

- O xogador m√≥vese con **frechas esquerda/dereita**.
- Os enemigos aparecen aleatoriamente e caen.

---

## üïπÔ∏è **Como Xogar**:

1. **Preme "Comezar Xogo"**.
2. **Controis**:
   - **Frechas ‚Üê ‚Üí**: Mover a nave.
   - **ESPACIO**: Disparar balas.
3. **Obxectivo**:
   - Destr√∫e os enemigos (c√≠rculos vermellos) antes de que cheguen ao fondo.
   - Ga√±a 10 puntos por cada enemigo abatido.

---

## üéØ **Conceptos Clave Ensinados**
- **Clases vs Obxectos**: `SpaceShip` √© o modelo, `player` e `enemies` son instancias.
- **Herdanza**: `Enemy` herda de `SpaceShip` e modifica comportamentos.
- **Encapsulaci√≥n**: `Game` xestiona o estado interno (puntuaci√≥n, enemigos).
- **DOM + POO**: Integraci√≥n pr√°ctica con elementos HTML.

---

## üåü **Ampliaci√≥ns Posibles**
1. Engadir **colisi√≥ns** entre naves.
2. Crear **niveis** de dificultade.

## üêõ **Posibles Problemas e Soluci√≥ns**:

- **"As balas non disparan"**:

  - Pulsa **ESPACIO** (non outras teclas) e aseg√∫rate de que o teclado est√° en ingl√©s se non funciona.

  - Aseg√∫rate de que o teclado ten o foco na p√°xina.

- **"Non se ven as naves"**:

  - Aseg√∫rate de que os arquivos te√±en exactamente estes nomes: `index.html`, `style.css`, `script.js`.
  - Comproba que o navegador non mostra erros na consola (F12 > Console).

- **"O bot√≥n non funciona"**:

  - O evento de clic est√° correctamente vinculado no constructor da clase `Game`.

- **Os enemigos non desaparecen**:

  - O CSS usa SVG embebidos, non require imaxes externas.

  - Verifica que as dimensi√≥ns de colisi√≥n son correctas (50px √© o tama√±o das naves).

## ‚ñ∂Ô∏è **Proba o xogo**:

1. Copia cada c√≥digo ao seu arquivo correspondente.
2. Abre o `index.html` no navegador.
3. **Funcionamento esperado**:
   - Nave verde (ti): M√≥vese con ‚Üê ‚Üí.
   - Enemigos vermellos: Aparecen cada 1.5 segundos.
   - Disparos: ESPACIO (balas amarelas).
   - Puntos: +10 por enemigo abatido.

[‚ñ∂Ô∏è **Proba o exemplo en vivo**](https://jsfiddle.net/) (Podes copiar o c√≥digo en JSFiddle ou CodePen)

---

Este exemplo cobre todos os principios da POO con JavaScript b√°sicos.

---

DAWüßä2025